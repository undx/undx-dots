# mailcap
# http://www.rfc-editor.org/rfc/rfc1524.txt
#
# Mutt uses the copiousoutput field to indicate that the viewer is
# non-interactive and can be used to automatically view attachments
# within the pager as well as from the attachment menu. Conversely,
# mutt uses the absence of the copiousoutput field to indicate that
# the viewer is interactive and can be used only from the attachment
# menu. Therefore, any lines with the copiousoutput field should be
# last among those of a given content-type.
#
# The "copiousoutput" field indicates that the output from the
# view-command will be an extended stream of output, and is to be
# interpreted as advice to the UA (User Agent mail-reading program)
# that the output should be either paged or made scrollable. Note
# that it is probably a mistake if needsterminal and copiousoutput
# are both specified.
# HTML content
text/html; w3m -I%{charset} -O'UTF-8' -T text/html ; copiousoutput;
text/html; qutebrowser %s; needsterminal; nametemplate=%s.html
#text/html; xdg-open %s
# convert html to markdown for easy reading
#text/html; pandoc -f html -t markdown; copiousoutput; compose=vim %s
# Calendar
text/calendar; ~/bin/view_ics.rb %s; copiousoutput;
# images
image/*; sxiv %s;
# audio
audio/*; xdg-open %s
# PDF
application/pdf; zathura %s;
application/pdf; pdftotext -layout %s -; copiousoutput;
# Archive files
application/zip             ; unzip -l %s      ; copiousoutput;
application/x-zip-compressed; unzip -l %s      ; copiousoutput;
application/x-tar-gz        ; tar tvzf %s 2>&- ; copiousoutput;
application/x-bzip          ; tar tvjf %s 2>&- ; copiousoutput;
# MS machin-truc
application/msword;  xdg-open %s
application/msexcel; xdg-open %s
application/vnd.openxmlformats-officedocument.wordprocessingml.document; pandoc --from docx --to markdown %s; copiousoutput
application/vnd.oasis.opendocument.text; pandoc --from odt --to markdown %s; copiousoutput
