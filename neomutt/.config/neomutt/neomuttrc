## vim:ft=muttrc:fdm=marker
# -*- muttrc -*-

# base paths
set folder = ~/Mail
set tmpdir = ~/tmp/neomutt

set my_config_work = "~/.config/neomutt/accounts/work"
set my_config_home = "~/.config/neomutt/accounts/home"

set sort=reverse-date
set sort_aux=last-date-received

# sidebar {{{
set sidebar_visible = yes
set mail_check_stats
set sidebar_delim_chars="/"             # Delete everything up to the last / character
set sidebar_short_path                  # Shorten mailbox names
set sidebar_folder_indent
set sidebar_indent_string = '  ''
set sidebar_width = 25
set sidebar_format = "%B%?F? [%F]?%* %4S%?N?(%N)?"
# }}}

# UI
source colors/undx
# default landing account
source accounts/work


  # Paths {{{
  # }}}
  # variables {{{
  #
  set my_spell_fr = "/usr/local/bin/aspell --mode=email --lang=fr    check"
  set my_spell_en = "/usr/local/bin/aspell --mode=email --lang=en_US check"
  set ispell = $my_spell_fr

  # }}}
  # editor {{{
  set editor = 'gvim -f -c "set spell spelllang=fr ft=mail fo+=aw" +/^$'
  # }}}
  # contacts {{{
  #set query_command = "contacts -sf '%etoken%n' '%s' | sed -e 's/token/\t/g'"
  # }}}
  # basic options {{{

  set wait_key   = yes     # i want to see stuff...
  set mbox_type  = maildir # mailbox type
  set timeout    = 3       # idle time before scanning
  set mail_check = 0       # minimum time between scans
  unset move               # gmail does that
  set delete               # don't ask, just do!
  unset confirmappend      # don't ask, just do!
  #set quit                 # don't ask, just do!
  unset mark_old           # read/new is good enough for me
  set beep_new             # bell on new mails
  set sig_on_top           # puts signature above quoted or forwarded text
  set sig_dashes           # dashes before sig
  set pipe_split           # sends tagged messages 1by1 otherwise they're concatenated with $pipe_sep
  set pipe_decode = no     # strip headers and eval mimes when piping
  set thorough_search      # strip headers and eval mimes before searching
  set sleep_time = 0       # Don't wait to switch mailboxes

  # }}}
  #
  # encodings {{{
set charset="utf-8"
set assumed_charset="utf-8"
set send_charset="utf-8:iso-8859-15:us-ascii"
  # }}}
  # status bar {{{
  set status_format = "───[ %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───[ %s/%S ]──%>─%?p?( %p postponed )?───"
  # }}}
  #
  # index view options {{{
  #
  set date_format  = "%d/%m/%y %H:%M"
  set index_format = "%4C %Z %D %-25.25:L (%?M?%.4M&%4c?)[%N] %s %y"
  set sort = threads
  set sort_aux = reverse-last-date-received
  set collapse_unread = no        # don't collapse threads with unread message
  set uncollapse_jump = yes       # check that var?

# }}}
#
# pager view options {{{

set pager_format = "───[%Z]─ %c/%m: %-20.20n %s %>─(%P)───"
set pager_index_lines = 10 # number of index lines to show
set pager_context = 3      # number of context lines to show
set pager_stop             # don't go to next message automatically
set menu_scroll            # scroll in menus
set tilde                  # show tildes like in vim
unset markers              # no ugly plus signs
set quote_regexp = "^( {0,4}[>|:#%]| {0,4}[a-z0-9]+[>|]+)+"
set implicit_autoview      # display what mutt can display
auto_view text/html text/plain image/* application/pdf  # display automaticaly in pager
auto_view text/calendar application/ics
auto_view application/x-gunzip
auto_view application/x-gzip
auto_view application/x-perl
auto_view application/x-sh
auto_view application/x-tar-gz
auto_view application/x-tcl
auto_view application/x-zip-compressed
alternative_order text/html text/enriched text/plain *     # display order if multipart/alternative
# }}}
# compose view options {{{
set envelope_from                    # which from?
set metoo                            # add me to recipients
#set autoedit       # skip asking to: subj: ...
set edit_headers=no                  # show headers when composing or not!
set fast_reply                       # skip to compose when replying
set fcc_attach                       # save attachments with the body
unset mime_forward                   # forward attachments as part of body
set forward_format = "fwd: %s"       # format of subject when forwarding
set forward_decode                   # decode when forwarding
set attribution = "On %d, %n wrote:" # format of quoting header
set reply_to                         # reply to reply to: field
set reverse_name                     # reply as whomever it was to
set include                          # include message in replies
set forward_quote                    # include message in forwards
set text_flowed=yes                  # mutt will generate text/plain; format=flowed attachments.

# }}}
# headers {{{
my_hdr x-operating-system: `uname -mnrs`
my_hdr x-mailer: `neomutt -v`
set my_display_headers = "x-label: to: cc: date: from: message-id: subject:"
ignore *                                                    # ignore all headers
unignore message-id: from: to: cc: date: subject: x-label:  # show only these
unhdr_order *
hdr_order $my_display_headers # and in this order
# }}}

# }}}
# hooks {{{
#folder-hook .    "exec collapse-all"
folder-hook .    set sort=threads# ; set sort_aux=reverse-date
folder-hook spam set sort=from   # ; set sort_aux=to
folder-hook "work" "source $my_config_work"
folder-hook "home" "source $my_config_home"
# }}}
#######################################################################
# hooks #
#######################################################################
# folder-hook .   source ~/.mutt/defaults
# folder-hook : set config variables
#folder-hook .  push "<limit>!(~N|~O)<enter><collapse-all><limit>all<enter>"
#folder-hook (ml.*|work.*) push "<collapse-all>"
#folder-hook .  push "<limit>!~f\\\"davep@(hagbard.demon.co.uk|davep.org)\\\"<enter><last-entry>"
# save-hook .* =iNBOX
# save-hook cron@klendathu.ab.fr =+work/ab
#
# key binding
source bindings
